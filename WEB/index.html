<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>初识JavaScript | JIE</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.bf069f6d.css" as="style"><link rel="preload" href="/assets/js/app.ecebf66e.js" as="script"><link rel="preload" href="/assets/js/17.e25519ee.js" as="script"><link rel="prefetch" href="/assets/js/1.461bcefd.js"><link rel="prefetch" href="/assets/js/10.ac5b4a94.js"><link rel="prefetch" href="/assets/js/11.9ef9f69f.js"><link rel="prefetch" href="/assets/js/12.00cdef80.js"><link rel="prefetch" href="/assets/js/13.e3ddcb60.js"><link rel="prefetch" href="/assets/js/14.49c3958c.js"><link rel="prefetch" href="/assets/js/15.273b30f8.js"><link rel="prefetch" href="/assets/js/16.50a4a65b.js"><link rel="prefetch" href="/assets/js/18.b6dd2ff7.js"><link rel="prefetch" href="/assets/js/19.ed63e524.js"><link rel="prefetch" href="/assets/js/20.23e8287d.js"><link rel="prefetch" href="/assets/js/21.86fb9d42.js"><link rel="prefetch" href="/assets/js/22.34b914c5.js"><link rel="prefetch" href="/assets/js/3.5ea5a669.js"><link rel="prefetch" href="/assets/js/4.2e266083.js"><link rel="prefetch" href="/assets/js/5.53e5b05b.js"><link rel="prefetch" href="/assets/js/6.a0e33768.js"><link rel="prefetch" href="/assets/js/7.20811d3d.js"><link rel="prefetch" href="/assets/js/8.bc56e083.js"><link rel="prefetch" href="/assets/js/9.54ed9c6b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bf069f6d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">JIE</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/WEB/" class="nav-link router-link-exact-active router-link-active">ECMAScript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react&amp;vue/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/react&amp;vue/vue/" class="nav-link">Vue</a></li></ul></div></div><div class="nav-item"><a href="/Node/" class="nav-link">Node.js</a></div><div class="nav-item"><a href="/MS/" class="nav-link">面试记录</a></div><div class="nav-item"><a href="/demo/" class="nav-link">DEMO</a></div><div class="nav-item"><a href="https://github.com/haojiesss" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/WEB/" class="nav-link router-link-exact-active router-link-active">ECMAScript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react&amp;vue/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/react&amp;vue/vue/" class="nav-link">Vue</a></li></ul></div></div><div class="nav-item"><a href="/Node/" class="nav-link">Node.js</a></div><div class="nav-item"><a href="/MS/" class="nav-link">面试记录</a></div><div class="nav-item"><a href="/demo/" class="nav-link">DEMO</a></div><div class="nav-item"><a href="https://github.com/haojiesss" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/WEB/" class="active sidebar-link">初识JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/WEB/#类型转换" class="sidebar-link">类型转换</a></li><li class="sidebar-sub-header"><a href="/WEB/#预编译" class="sidebar-link">预编译</a></li></ul></li><li><a href="/WEB/ES6.html" class="sidebar-link">ECMAScript6</a></li><li><a href="/WEB/practice.html" class="sidebar-link">practice</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="初识javascript"><a href="#初识javascript" class="header-anchor">#</a> 初识JavaScript</h1> <h3 id="前端发展简史"><a href="#前端发展简史" class="header-anchor">#</a> 前端发展简史</h3> <ul><li>第一阶段：C/S(Client / Server) -&gt; B/S (Browser / Server)
<ul><li>岗位：网页制作（页面仔）</li> <li>技术栈：PhotoShop、HTML、CSS</li></ul></li> <li>第二阶段：静态到动态，前后端分离
<ul><li>岗位：前端工程师（Front-end Engineer，简称FE）</li> <li>前后端分离：
<ul><li>后端：负责数据处理、业务逻辑编写（包括api接口）</li> <li>前端：还原设计稿（切图），通过api接口拿到数据绑定到html中，传递服务器需要的数据</li> <li>技术栈：javascript（js）、Ajax(包含jsonp等跨域技术)、jQuery ....</li></ul></li></ul></li> <li>第三阶段：从前端到全端（pc到移动端）
<ul><li>岗位：前端工程师</li> <li>技术栈：HTML5/CSS3、rem响应式、flex布局、zepto...、Hybrid App（混合app）、微信小程序...</li></ul></li> <li>第四阶段：从全端到全栈
<ul><li>岗位：全栈工程师（前后端都由前端来开发，严格就是说用一门语言完成前端和后端的开发）</li> <li>技术栈：NODE（让js代码运行在服务器上的环境）、Express、Koa ...</li></ul></li></ul> <ul><li>JavaScript的编译器
webstorm vscode 都是IDE(integrated development environment 集成开发环境)</li></ul> <h3 id="浏览器内核-w3c"><a href="#浏览器内核-w3c" class="header-anchor">#</a> 浏览器内核&amp;W3C</h3> <ul><li>大纲
<ol><li>了解W3C组织、及作用</li> <li>了解浏览器内核作用</li> <li>了解浏览器兼容问题由来</li></ol></li> <li>W3C</li></ul> <blockquote><p>W3C: 是一个组织，万维网联盟；指定行业、编程语言的规范和标准；
标准：开发者按照标准和规范编写代码，浏览器开发商按照规范和标准开发浏览器。</p></blockquote> <ul><li>浏览器的组成</li></ul> <blockquote><p>浏览器主要有两部分组成：shell外壳部分和内核部分，其实内核还包括了很多东西。</p></blockquote> <ol><li>渲染引擎，内核里的渲染引擎主要作用于html和css部分，定义了语法规则、渲染规则以及渲染路径和速度等等。</li> <li>js引擎。
2001年发布了ie6，首次实现对js引擎的优化。</li></ol> <p>2008年Google发布了Chrome，它是采用优化后的js引擎，引擎代号V8，因能把js代码直接转化成机械码0101来执行，进而以速度快而闻名。</p> <p>后来Firefox也推出了具有强大功能的js引擎</p> <p>Firefox 3.5 TraceMonkey（对频繁执行的代码做了路径优化）</p> <p>Firefox 4.0 JeagerMonkey</p> <ol start="3"><li>其他模块。</li></ol> <ul><li>浏览器内核</li></ul> <blockquote><p>浏览器内核：内核就是把按照规范开发的代码按照规范渲染成图形或者页面；</p></blockquote> <ul><li><p>常见的浏览器内核：</p> <ol><li>webkit: 谷歌浏览器内核（chrome）、国产浏览器的极速模式</li> <li>gecko: FireFox(FF)火狐浏览器</li> <li>trident: IE 浏览器</li></ol> <p>....</p></li> <li><p>浏览器的兼容问题：</p> <ol><li>浏览器开发商在实现规范的时候，为了突出自己更优秀，采用的方式不一样，导致结果不一致</li> <li>浏览器开发商还会开发出新功能，在这个功能没有成为规范之前，就存在兼容问题</li></ol></li></ul> <h3 id="javascript的特点"><a href="#javascript的特点" class="header-anchor">#</a> JavaScript的特点</h3> <ol><li><p>解释性语言——不需要编译代码，可以跨平台。<br>
像php、js、jsp都是解释性语言。</p></li> <li><p>单线程——js是单线程的语言，同时只能执行一件事情。</p></li> <li><p>ECMA标准——为了统一js的规则，推出了ECMA标准，因此js也称为ECMAScript。</p></li></ol> <h3 id="javascript执行队列"><a href="#javascript执行队列" class="header-anchor">#</a> JavaScript执行队列</h3> <blockquote><p>js中有一个重要的概念就是执行队列。
js只有一个主线程，它是单线程的。</p></blockquote> <p>其他模块把任务分解成好多的小模块，这些小模块排成一个队列，队列最前面的进入主线程执行，执行完之后第二个进入主线程执行，这个队列就是js的执行队列。有点像操作系统里面的轮转时间片。</p> <h3 id="javascript三大部分：ecmascript、dom、bom"><a href="#javascript三大部分：ecmascript、dom、bom" class="header-anchor">#</a> JavaScript三大部分：ECMAScript、DOM、BOM</h3> <ul><li>ECMAScript是符合ECMA标准的基本javascript。</li> <li>DOM是Document Object Model文档对象模型，可以操作页面的代码，可以操作html和css部分。DOM是非常非常重要的部分。</li> <li>BOM是Browser Object Model浏览器对象模型，操作浏览器shell的。因为每一个浏览器厂家的不同，导致我们在每一个浏览器操作BOM都不一样，因此这里大概了解一下就可以了。</li></ul> <h3 id="如何引入javascript代码"><a href="#如何引入javascript代码" class="header-anchor">#</a> 如何引入JavaScript代码</h3> <p>到这里我们大概了解javascript是什么东西了，那么我们如何在html页面里面引入js代码呢？</p> <ol><li>页面内嵌script标签</li></ol> <p>我们可以在<code>&lt;head&gt;</code>标签里面或者<code>&lt;body&gt;</code>标签里面写一个<code>&lt;script&gt;&lt;/script&gt;</code>，这个标签有一个type属性，如果要写的话就写完整的”text/javascript”，要不然就不写，浏览器会默认是这个type值，如果写还写错的话浏览器就会报错。</p> <p>写完标签之后，我们就可以在这个标签里面写js代码了。</p> <ol start="2"><li>引入外部js文件</li></ol> <p>script标签除了可以在里面直接写代码之外，还可以写一个src属性来引入外部的js文件。</p> <ul><li><p>有一点值得注意的是，一个script标签只能在里面写代码或者引入外部js文件，不能既引入又在里面写代码。</p></li> <li><p>一个script标签就是一个代码块，一个页面可以引入多个代码块。</p></li> <li><p>为了符合传统页面的web标准（w3c标准的一项）：结构、样式、行为相分离，我们一般采用第二种引入外部js文件的方法。我们的html、css、js最好放在专门的文件里面，然后在html里面引入外部文件。</p></li> <li><p>浏览器在加载我们的html文件的时候，当遇到link标签的时候会异步加载，但是到script标签的时候并不会异步加载，而是会完全不加载后面的内容，而是去下载这个js文件，并且执行js文件里面的内容，之后下载并且执行完全部的js内容之后，浏览器才会继续执行html后面的代码。</p></li></ul> <p>这样就导致了一个问题，如果js是操作DOM的话，我们页面的DOM还没有出来，js就操作，就会出现错误，而且写在前面如果js文件比较大的话，就会导致页面一直没有内容。</p> <p>因此，为了避免这种情况的出现，我们一般把script标签写在body标签里面的最后一行。</p> <h3 id="javascript基本语法"><a href="#javascript基本语法" class="header-anchor">#</a> JavaScript基本语法</h3> <ul><li>变量声明</li></ul> <p>js是一种弱数据类型的语言，任何类型的变量都用关键字var来声明。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> string <span class="token operator">=</span> “abc”<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>赋值可以在声明的同时赋值也可以在后面赋值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> num<span class="token punctuation">;</span>
num <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这两种方法是一样的效果。</p> <p>同时，我们有一种单一var模式，当我们要声明多个变量的时候，为了节省代码量，一般只写一个var：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> num1 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">,</span>
      num2 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">,</span>
      num3 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>变量名要上下对齐，这样结构能加清晰，也能节省很多代码。</p> <ul><li>变量命名规则</li></ul> <ol><li><p>f以英文字母、_、$符号开头。</p></li> <li><p>变量名可以包括数字。</p></li> <li><p>不可以使用系统自带的关键字、保留字作为变量名。</p></li></ol> <ul><li>关键字是被系统定义了语法的单词，像var、window、if、else这一类都算作关键字。（关键字在编辑器里面是可以变色的）</li> <li>保留字是为以后升级可能会变成关键字做的保留，像java、int、enum、abstract、short、boolean等等都是保留字。</li></ul> <h3 id="值类型"><a href="#值类型" class="header-anchor">#</a> 值类型</h3> <p>js中的数据的值主要分为两大类：</p> <ol><li>不可改变的原始值</li></ol> <blockquote><p>主要有：Number、String、Boolean、undefined、null
这些数据一般叫做栈数据</p></blockquote> <p>undefined是未定义的意思，而null是空的意思，他们俩的区别在于，null有值，不过这个值是空值，而undefined是未定义，完全没有值的意思。null一般用作占位。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
  <span class="token keyword">var</span> a<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>我们在浏览器上按F12，打开控制台，就可以看到console.log的结果了。</p> <ol start="2"><li>引用值</li></ol> <blockquote><p>主要有：数组array、对象object、函数function
这些数据一般叫做堆数据</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
         name<span class="token operator">:</span> ‘demo’<span class="token punctuation">,</span>
      age<span class="token operator">:</span> ‘<span class="token number">18</span>’
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1,2,3,4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[Object Object]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// demo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>那么这两种数据类型的区别在哪里呢？</p> <p>我们举一个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">,</span>
      num1 <span class="token operator">=</span> num<span class="token punctuation">;</span>
num <span class="token operator">=</span> <span class="token number">234</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//234</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>我们发现num的改变对num1完全没有影响。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      arr1 <span class="token operator">=</span> arr<span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1,2,3,4,5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1,2,3,4,5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>我们发现我们根本没有改变arr1的值，只是改变了arr的值，但是arr1也跟着改变了，这就是二者之间的第一个区别。</p> <p>不过，如果我们是给arr重新赋值一个新的数组的话，那么arr1并不是这个新的数组。</p> <ul><li><p>arr = [1, 2, 3, 4, 5];</p></li> <li><p>arr1 –&gt; 1, 2, 3</p></li></ul> <p>这是为什么呢？</p> <p>因为原始值是存放在栈里面的，而引用值是存放在堆里面的，原始值的赋值是把值的内容赋值一份给另一个变量，但是引用值却不是这样。引用值的变量名存在栈里面，但是值却是存在堆里面的，栈里面的变量名只是指向了一个堆空间，这个堆空间存的是我们一开始赋的值，当我们写arr1 = arr的时候，其实是把arr1指向了和arr指向的同一个的堆空间，这样当我们改变arr的内容的时候，其实就是改变了这个堆空间的内容，自然同样指向这个堆空间的arr1的值也随着改变了。</p> <ul><li>栈内存一点被赋值了，就不可以改变了，我们即使给num重新赋值为234，也是在栈里面重新开辟了一块空间赋值234，然后把num指向了这个空间，前面那个存放123的空间还存在，只是没有指针指向这里罢了。</li></ul> <p>第二点区别则是：原始值不可以被改变，引用值可以被改变。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1,2</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> “<span class="token number">1234</span>”<span class="token punctuation">;</span>
str<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这里涉及了一个包装类的概念，我们后面会提到。</p> <h3 id="javascript语句基本规则"><a href="#javascript语句基本规则" class="header-anchor">#</a> JavaScript语句基本规则</h3> <ol><li>语句后面要用英文分号结束 “;”</li> <li>js语法错误会引发后面的代码终止，但不会影响其他的js代码块。这里仅限于逻辑错误，低级的语法错误会导致代码全都执行不了。</li> <li>书写要规范，=、+、-、/、%两边都要留有空格。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
 
num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
 
num <span class="token operator">=</span> num <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>一些公司还会有自己的其他编码规范，比如百度公司就会要求小括号和大括号左右两边留有空格。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
 
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这些都是良好的编码习惯，养成这些习惯有助于我们以后的工作。</p> <h3 id="javascript运算符"><a href="#javascript运算符" class="header-anchor">#</a> JavaScript运算符</h3> <ul><li>算术运算符</li></ul> <ol><li><ul><li>运算符</li></ul></li></ol> <ul><li><p>数学上的相加功能</p></li> <li><p>拼接字符串</p></li></ul> <p>字符串和任何数据相加都会变成字符串</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> ‘<span class="token number">3</span>’<span class="token punctuation">;</span>
   
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//33</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>算术运算符的优先级是从左到右的。</p> <ol start="2"><li>– 运算符</li></ol> <ul><li>数学上的相减功能</li></ul> <ol start="3"><li><ul><li>运算符</li></ul></li></ol> <ul><li>数学上的相乘功能</li></ul> <ol start="4"><li>/ 运算符</li></ol> <ul><li>数学上的相除功能</li></ul> <ol start="5"><li>% 运算符</li></ol> <ul><li>数学上的取余功能</li></ul> <ol start="6"><li>= 运算符</li></ol> <ul><li>赋值运算符，优先级最低</li></ul> <ol start="7"><li>== 运算符</li></ol> <ul><li>比较运算符中的等于，不过两个等号的等于属于不严格等于，严格等于是“===”三个等号。</li></ul> <ol start="8"><li>() 运算符</li></ol> <ul><li>和数学上一样，加括号的部分优先级最高</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> ‘<span class="token number">2</span>’ <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 122</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="9"><li>++ 运算符</li></ol> <ul><li>自加一运算，当写在变量前面的时候是先加1再执行运算，写在变量后面的时候是先运算再加1。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">++</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>相类似的运算还有 — ，用法和 ++ 一样，不过是减法操作。</p> <ol start="10"><li>+= 运算符
让变量加多少</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
 
<span class="token keyword">var</span> num <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这两种操作是一样的效果，第二种是第一种的简写形式。</p> <p>相同的还有 -=、/=、*-、%= 等等</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num <span class="token operator">%=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>比较运算符</li></ul> <p>比较运算符有 &gt; 、&lt; 、&gt;= 、&lt;= 、!= 、== 不严格等于、===严格等于</p> <p>这里介绍一下不严格等于和严格等于的区别</p> <p>当我们比较两个数据的时候，是先转化成同一个类型的数据之后再进行比较的。不严格等于就是说这两个数据进行了转化之后，他们的值相同，则整两个数据相等。而严格等于则是两个数据不进行数据转化也相等。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;2&quot;</span> <span class="token operator">===</span> <span class="token number">2</span> <span class="token comment">// false</span>
 
<span class="token string">&quot;2&quot;</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>同时，NaN不等于任何数据，包括它本身，但是undefined就等于它本身。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span> <span class="token comment">// false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token comment">// true</span>
<span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>“abc”<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这里的demo要进行取反运算，先进行了类型转换为布尔值true，两次取反之后依然是true，这个可以用来作为数据转换成布尔值。</p> <ul><li>逻辑运算符</li></ul> <p>逻辑运算符主要是 &amp;&amp; 和 || —— 与和或</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>&amp;&amp;的作用是只有是true的时候，才会继续往后执行，一旦第一个表达式就错了，后面的第二个表达式根本不执行。如果表达式的返回结果都是true的话，那么这里&amp;&amp;的返回结果是最后一个正确的表达式的结果。样例中的demo是3。</p> <p>||的作用是只要有一个表达式是true的，那么就结束，后面的就不走了，并且返回的结果是这个正确的表达式的结果，如果都是false的表达式的话，那么返回结果就是false。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>一般来说，&amp;&amp;有当做短路语句的作用，因为运算符的运算特点，只有第一个条件成立的时候，才会运行第二个表达式，所以我们可以把简单的if语句用&amp;&amp;来表现出来。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>‘hello’<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
flag <span class="token operator">&amp;&amp;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>‘hello’<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这两个语句是同样的含义。</p> <p>一般来说，||有当做赋初值的作用，有时候我们希望函数参数有一个初始值，再不使用ECMA6的语法的情况下，最好的做法就是利用或语句。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">demo</span> <span class="token punctuation">(</span><span class="token parameter">example</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 
      <span class="token keyword">var</span> example <span class="token operator">=</span> example <span class="token operator">||</span> <span class="token number">100</span><span class="token punctuation">;</span>
 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当我们调用demo这个函数并且正确传值的时候，函数内部的变量example就是我们传的值，但是如果由于我们疏忽忘记传值的话，那么里面的example就是我们的默认值100。</p> <p>不过这里也有一种缺点，当我们传的参数是一个布尔值的时候，并且传的是false，那么||语句的特点就会忽略掉我们传递的这个参数值而去赋成默认的初始值了，所以为了解决这个弊端，我们就需要利用es6的一些知识了。</p> <ul><li>默认为false的值</li></ul> <p>数据中所有的值都可以被转换成true或false，但是true的值实在太多了，因此我们只需要记住false的值，其他的都是true。</p> <p>默认为false：undefined、null、””、NaN、0、false。</p> <h2 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h2> <p>我们在前面的运算符的部分提过了这个类型转换，这篇文章就主要介绍一下什么是类型转换。</p> <h3 id="显示类型转换"><a href="#显示类型转换" class="header-anchor">#</a> 显示类型转换</h3> <p>类型转换，自然是把数据的类型改变了，那么我们怎么才能知道数据的类型是否发生了改变呢？</p> <p>我们有一个操作符typeof可以检测数据的类型。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>typeof能返回的类型一共只有6种：</p> <p>numner、string、boolean、undefined、object、function</p> <ul><li><p>数组和null类型的都属于object。其实null并不是一种对象，只是因为历史遗留性的问题，null通常用来作为对象占位符，所以被浏览器归到了object里面了。</p></li> <li><p>NaN属于number类型。虽然是非数，但是非数也是数字的一种。</p></li> <li><p>同时，typeof返回的结果其实是一种字符串，我们可以用typeof来测试。</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>Number(mix)
这个方法是可以把其他类型的数据转换成数字类型的数据。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>‘<span class="token number">123</span>’<span class="token punctuation">)</span><span class="token punctuation">;</span>
demo <span class="token comment">// number123</span>
demo <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
demo <span class="token comment">// 1</span>
demo <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
demo <span class="token comment">// NaN</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="2"><li>parseInt(string, radix)</li></ol> <p>这个方法是将字符串转换成整型类型数字的。其中第二个参数radix基底是可以选择的参数。</p> <p>当radix为空的时候，这个函数的作用仅仅是将字符串转换成数字。</p> <p>当参数string里面既包括数字字符串又包括其他字符串的时候，它会将看到其他字符串就停止了，不会继续转换后面的数字型字符串了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">parseInt</span><span class="token punctuation">(</span>‘<span class="token number">123</span>abc345’<span class="token punctuation">)</span> <span class="token comment">// 123</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>‘abc123’<span class="token punctuation">)</span> <span class="token comment">// NaN</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>‘<span class="token number">123</span>’<span class="token punctuation">)</span> <span class="token comment">// 123</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>‘abc’<span class="token punctuation">)</span> <span class="token comment">// NaN</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当radix不为空的时候，这个函数可以用来作为进制转换，第二个参数的作用则是，我们把第一个参数的数字当成几进制的数字来转换成十进制。</p> <ul><li>radix参数的范围是2-36。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>demo<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">// 16</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>将十六进制的‘10’转换成十进制的16。</p> <ol start="3"><li>parseFloat(radix)</li></ol> <p>这个方法和parseInt方法类似，是将字符串转换成浮点类型的数字，同样是碰到第一个非数字型字符停止，但是由于浮点型数据有小数点，所以它会识别第一个小数点以及后面的数字，但是第二个小数点就无法识别了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">parseFloat</span><span class="token punctuation">(</span>‘<span class="token number">123.2</span><span class="token number">.3</span>’<span class="token punctuation">)</span> <span class="token comment">// 123.2</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span>‘<span class="token number">123.2</span>abc’<span class="token punctuation">)</span> <span class="token comment">// 123.2</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span>‘<span class="token number">123.</span>abc’<span class="token punctuation">)</span> <span class="token comment">// 123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>toString(radix)</li></ol> <p>这个方法和前面的都一点不同，它是对象上的方法，任何数据类型都可以使用，转换成字符串类型，涉及到包装类的一些知识。</p> <p>同样radix基底是可选参数，当为空的时候，仅仅代表将数据转化成字符串。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">typeof</span> demo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string   123</span>
<span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// string true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当写了radix基底的时候，则代表我们要将这个数字转化成几进制的数字型字符串。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
demo<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">// A</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>undefiend和null没有toString方法。</li></ul> <ol start="5"><li>String(mix)</li></ol> <p>和Number类似，把任何类型转换成字符串类型。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="6"><li>Boolean(mix)</li></ol> <p>和Number类似，把任何类型转换成布尔类型。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span>‘’<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="隐式类型转换"><a href="#隐式类型转换" class="header-anchor">#</a> 隐式类型转换</h3> <ol><li>isNaN()</li></ol> <p>这个方法可以检测数据是不是非数类型。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">isNaN</span><span class="token punctuation">(</span>‘abc’<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这中间隐含了一个隐式转换，它会先将你传的参数调用一下Number方法之后，再看看结果是不是NaN，不过这个方法可以检测NaN本身。</p> <ol start="2"><li>算术运算符</li></ol> <p>在前面介绍算术运算符的时候，我们就提到了类型转换。</p> <ul><li>++就是现将数据调用一遍Number之后，再自加一。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> demo <span class="token operator">=</span> ‘abc’<span class="token punctuation">;</span>
demo <span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//NaN</span>
demo <span class="token operator">=</span> ‘<span class="token number">123</span>’<span class="token punctuation">;</span>
<span class="token operator">++</span>demo<span class="token punctuation">;</span> <span class="token comment">//124</span>
demo <span class="token operator">=</span> ‘<span class="token number">123</span>’<span class="token punctuation">;</span>
demo<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token comment">//123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>放在后面写++，虽然是执行完之后才加一，但是执行之前就会调用Number进行类型转换。</p> <ul><li>同样一目运算符也可以进行类型转换。</li></ul> <p>+、-、*、/在执行之前都会先进行类型转换，都转换成数字类型的在进行运算。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token operator">+</span>num<span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token operator">-</span>demo<span class="token punctuation">;</span> <span class="token comment">// -1</span>
<span class="token keyword">var</span> demo <span class="token operator">=</span> ‘abc’<span class="token punctuation">;</span>
<span class="token operator">+</span>demo<span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token number">1</span>  ‘<span class="token number">2</span>’<span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token boolean">true</span>  <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token boolean">false</span> <span class="token operator">/</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token boolean">true</span> <span class="token operator">/</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//infinity无穷大</span>
<span class="token operator">-</span><span class="token boolean">true</span> <span class="token operator">/</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//-</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>逻辑运算符也会隐式调用类型转换</li></ul> <p>&amp;&amp;和||都是先把表达式调用Boolean，换成布尔值再进行判断，看看是true还是false，不过返回的结果还是本身表达式的结果。</p> <p>！取反操作符返回的结果也是调用Boolean方法之后的结果。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">!</span>‘abc’<span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>当然也有不发生类型转换的比较运算符</li></ul> <p>===严格等于</p> <p>!==严格不等于</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>‘<span class="token number">123</span>’ <span class="token operator">===</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// false;</span>
<span class="token boolean">true</span> <span class="token operator">===</span> ‘<span class="token boolean">true</span>’<span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token number">1</span> <span class="token operator">!==</span> ‘<span class="token number">1</span>’<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token number">1</span> <span class="token operator">!==</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="预编译"><a href="#预编译" class="header-anchor">#</a> 预编译</h2> <ul><li>js运行三部曲</li></ul> <ol><li>语法分析</li> <li>预编译</li> <li>解释执行</li></ol> <blockquote><p>语法分析：js引擎在解析js代码之前，会先通篇扫描一下，找出低级的语法错误，比如写错大括号之类的。</p></blockquote> <blockquote><p>编译执行：我们前面提到js是一种解释型语言，编译一行执行一行，当语法分析没有问题，并且已经完成预编译阶段之后，就开始解释执行代码。</p></blockquote> <p>这里我们着重介绍预编译。</p> <ul><li>预编译前奏</li></ul> <p>在介绍预编译之前，我们有两个重要概念需要掌握。</p> <ol><li>imply global 暗示全局变量。</li></ol> <ul><li>如果任何变量未经声明就赋值使用，此变量就会为全局对象window所有，并且成为window对象的一个属性。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>a <span class="token operator">===</span> a <span class="token comment">// true;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1.</span>  a <span class="token operator">=</span> <span class="token number">123</span>；
<span class="token number">2.</span>  window<span class="token punctuation">.</span>a<span class="token operator">===</span>a  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>一切声明的全局变量，都是window的属性。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><p>这样看不论全局变量有没有声明，似乎都会成为全局对象上的属性，那么两者之间有什么区别呢？</p></li> <li><p>区别在于：经过声明的全局变量不能通过delete操作来删除，但是未经声明的全局变量可以被删除。</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a <span class="token operator">===</span> a<span class="token punctuation">)</span>  <span class="token comment">// true</span>
<span class="token keyword">delete</span> window<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefiend</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> window<span class="token punctuation">.</span>b<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>正是这一种特性，导致es5有一种弊端，我们总会在无形中声明一些全局变量。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> a <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这段代码的原意是：在函数体中声明两个变量a、b，然后初始化a、b都是0。但是我们这么写之后，a经过了声明，但是b却没有声明，这时候b就会成为一个全局变量。</p> <ul><li><p>了解这两点之后，我们正式介绍一下预编译的过程。</p></li> <li><p>预编译的过程我总结为以下四步：</p></li></ul> <ol><li><p>创建AO对象。</p></li> <li><p>寻找形参和变量声明，将变量和形参作为AO对象的属性名添加到对象中，值为undefined。值得注意的是，函数声明不叫变量。</p></li> <li><p>将实参值和形参值相统一。</p></li> <li><p>在函数体里面寻找函数声明，将函数名作为属性名，值为这个函数的函数体。</p></li></ol> <ul><li>函数在执行的前一刻会产生一个上下文，这个上下文就是Activeaction Object对象，简称AO对象。</li></ul> <p>AO = {}</p> <ul><li><p>这个对象是空的，但是里面有一些我们看不到的却存在的隐式属性，比如this: window属性和arguments: [];属性</p></li> <li><p>这个对象用来存放一些属性和方法，这些属性和方法就按照前面的四步来产生。</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span>log a 
      <span class="token keyword">function</span> <span class="token function">a</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      a <span class="token operator">=</span> <span class="token number">222</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span>log a
      <span class="token keyword">function</span> <span class="token function">b</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span>log b 
      <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">111</span><span class="token punctuation">;</span> 
      <span class="token keyword">var</span> a <span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><p>这里我们用这一个样例代码来简单介绍一下预编译的过程。</p></li> <li><p>首先第一步，创建一个AO对象。</p></li></ul> <p>var AO = {};</p> <ul><li>第二步，寻找形参值和变量声明，并且将值赋为undefined。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">AO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
      b<span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>第三步，将实参值和形参值相统一。这里因为属性名都已经存在了，所以直接赋值就可以了。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">AO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      b<span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>第四步，寻找函数声明，将函数体赋值给属性。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">AO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样在编译执行之前，我们预编译阶段创建的AO对象就是这个样子了，这个时候我们再看看分别打印的值是什么。</p> <ul><li><p>第一个console.log a –&gt; function () {}</p></li> <li><p>第二个console.log a –&gt; 222 因为执行了a = 222这一行代码，所以重新赋值了。</p></li> <li><p>第三个console.log b –&gt; function () {}</p></li></ul> <ul><li>var b = function () {}这种不叫做函数声明，这个函数是赋值给b变量的，b变量是声明。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       a<span class="token comment">//function</span>
       d<span class="token comment">//function</span>
       <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
       a<span class="token comment">//123</span>
       <span class="token keyword">function</span> <span class="token function">a</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
       b<span class="token comment">//undefined</span>
       <span class="token keyword">var</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
       b<span class="token comment">//function</span>
        <span class="token keyword">function</span> <span class="token function">d</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这里的var b = function () {}只是声明了b变量，在第四步寻找函数声明里面并不会把b赋值成function () {}，因为后面的函数并不是声明，当代码开始解释执行之后，执行到这一行之后才把b赋值成这个函数。</p> <ul><li>寻找变量声明的时候，不会管里面的代码到底会不会执行，执行是后面的事，这里只负责寻找所有变量。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  funciton <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     a <span class="token comment">//undefined </span>
     <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
           <span class="token keyword">function</span> <span class="token function">b</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     a<span class="token comment">//undefined</span>
     b<span class="token comment">//function</span>
     <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">234</span><span class="token punctuation">;</span>
     b<span class="token comment">// 234</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>打印第一个a的时候并不会报错而是undefined，当a没有声明的时候才会报错，因此这里a是有声明的，只是没有赋值而已，它根本不看有没有if，if的条件是不是真对寻找变量声明都没有关系。</p> <ul><li>第二步寻找形参和变量声明时候的AO对象：</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">AO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>  <span class="token comment">//这里的a虽然在if里面但是也被声明了</span>
      b<span class="token operator">:</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/WEB/ES6.html">
          ECMAScript6
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.ecebf66e.js" defer></script><script src="/assets/js/17.e25519ee.js" defer></script>
  </body>
</html>
